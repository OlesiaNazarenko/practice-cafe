{"version":3,"sources":["webpack:///./templates/table-tmp.hbs","webpack:///./js/db/menu.js","webpack:///./js/db/tables.js","webpack:///./js/db/workers.js","webpack:///./js/classCafe.js","webpack:///./js/orderList.js","webpack:///./js/tablePanel.js","webpack:///./templates/order-list.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop","menu","id","name","price","tables","table","service","oficiants","isPresent","tips","cafe","workers","this","getPresentWorkers","presentWorkers","filter","worker","checkTables","forEach","idx","workerIndex","length","push","getOrder","tableNum","dishID","quantity","currTable","findTable","currentOrder","find","addDish","removeDish","dishId","resetDish","curTable","findDish","dish","prepeareDish","menuMap","setmenuMap","newRes","entries","map","prepearing","reduce","acc","el","dishFinish","dishName","split","quant","Number","removeDishFinish","console","log","handleCloseList","parentNode","removedChild","querySelector","removeChild","handleSetDishToOrder","e","target","nodeName","dataset","action","closest","item","spanQuantity","textContent","createOrderList","orderTemplateMarkup","listTmp","orderList","insertAdjacentHTML","orderListContainer","document","getElementById","addEventListener","refs","body","servicePanel","createElement","tableList","insertAdjacentElement","getTableMarckup","tablesTmp","helper","hooks","helperMissing","alias4"],"mappings":"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","file":"main.bbea37f1f1052bcec86e.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<li class=\\\"table\\\" data-id=\\\"\"\n    + alias2(alias1(depth0, depth0))\n    + \"\\\">\\r\\n    <h3 class=\\\"table-title\\\">Table - \"\n    + alias2(alias1(depth0, depth0))\n    + \"</h3>\\r\\n    <button class=\\\"table-btn\\\" data-action=\\\"open-order\\\"> Open order list</button>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"tables\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":6,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const menu = [\r\n    {\r\n        id: \"capuchino\",\r\n        name: \"Капучино\",\r\n        price: 45\r\n    },\r\n    {\r\n        id: \"late\",\r\n        name: \"Лате\",\r\n        price: 40\r\n    },\r\n    {\r\n        id: \"napoleon\",\r\n        name: \"Торт Наполеон\",\r\n        price: 75\r\n    },\r\n    {\r\n        id: \"water-0.5\",\r\n        name: \"Вода без газа 0,5\",\r\n        price: 20\r\n    },\r\n    {\r\n        id: \"zavarnoe\",\r\n        name: \"Пирожное Заварное\",\r\n        price: 38\r\n    },\r\n    {\r\n        id: \"espresso\",\r\n        name: \"Еспрессо\",\r\n        price: 30\r\n    },\r\n    {\r\n        id: \"marcepan\",\r\n        name: \"Марцепан\",\r\n        price: 45\r\n    },\r\n    {\r\n        id: \"fresh-orang-0.3\",\r\n        name: \"Фреш Апельсиновый 0,3\",\r\n        price: 45\r\n    },\r\n]\r\n\r\n\r\nexport default menu;","const tables = [\r\n    {\r\n        table: 1,\r\n        service: \"\",\r\n    },\r\n    {\r\n        table: 2,\r\n        service: \"\",\r\n    },\r\n    {\r\n        table: 3,\r\n        service: \"\",\r\n    },\r\n    {\r\n        table: 4,\r\n        service: \"\",\r\n    },\r\n    {\r\n        table: 5,\r\n        service: \"\",\r\n    },\r\n    {\r\n        table: 6,\r\n        service: \"\",\r\n    },\r\n    {\r\n        table: 7,\r\n        service: \"\",\r\n    },\r\n    {\r\n        table: 8,\r\n        service: \"\",\r\n    },\r\n];\r\nexport default tables;","const oficiants = [\r\n    {\r\n        name: \"Ann\",\r\n        isPresent: true,\r\n        tables: [],\r\n        tips: 0\r\n    },\r\n    {\r\n        name: \"Nick\",\r\n        isPresent: false,\r\n        tables: [],\r\n        tips: 0\r\n    },\r\n    {\r\n        name: \"Carrol\",\r\n        isPresent: true,\r\n        tables: [],\r\n        tips: 0\r\n    },\r\n    {\r\n        name: \"Jack\",\r\n        isPresent: false,\r\n        tables: [],\r\n        tips: 0\r\n    },\r\n    {\r\n        name: \"Berry\",\r\n        isPresent: false,\r\n        tables: [],\r\n        tips: 0\r\n    },\r\n    {\r\n        name: \"Jim\",\r\n        isPresent: true,\r\n        tables: [],\r\n        tips: 0\r\n    },\r\n];\r\nexport default oficiants;","import menu from \"./db/menu.js\";\r\nimport tables from \"./db/tables.js\";\r\nimport workers from \"./db/workers.js\";\r\n\r\nclass Cafe {\r\n    constructor({ menu, tables, workers }) {\r\n        this.menu = menu;\r\n        this.tables = tables;\r\n        this.workers = workers;\r\n    }\r\n    getPresentWorkers() {\r\n        this.presentWorkers = this.workers.filter((worker) => worker.isPresent );\r\n    }\r\n    checkTables() {\r\n        this.getPresentWorkers();\r\n        this.tables.forEach((table, idx) => {\r\n            const workerIndex = idx % this.presentWorkers.length;\r\n             table.service = this.presentWorkers[workerIndex].name;\r\n            this.presentWorkers[workerIndex].tables.push(table.table);\r\n        });\r\n    }\r\n    getOrder(tableNum, dishID, quantity) {\r\n        const currTable = this.findTable(tableNum);\r\n\r\n        if (!currTable.currentOrder) {\r\n            currTable.currentOrder = {};\r\n        }\r\n        if (currTable.currentOrder[dishID]) {\r\n            return currTable.currentOrder[dishID] += quantity;\r\n        }\r\n        currTable.currentOrder = {...currTable.currentOrder, [dishID]: quantity };\r\n    }\r\n    findTable(tableNum) {\r\n        return this.tables.find((table) => table.table === tableNum)\r\n    }\r\n    addDish(tableNum, dishID) {\r\n        const currTable = this.findTable(tableNum);\r\n\r\n        if (!currTable.currentOrder) {\r\n            currTable.currentOrder = {};\r\n        }\r\n        if (currTable.currentOrder[dishID]) {\r\n            return currTable.currentOrder[dishID] += 1;\r\n        }\r\n        currTable.currentOrder = {...currTable.currentOrder, [dishID]: 1 };\r\n    }\r\n    removeDish(tableNum, dishId) {\r\n        const currTable = this.findTable(tableNum);\r\n        if (!currTable.currentOrder || !currTable.currentOrder[dishId]) return;\r\n        currTable.currentOrder[dishId] -= 1;\r\n        currTable.currentOrder = { ...currTable.currentOrder, [dishId]: 0 };\r\n    }\r\n     resetDish(tableNum, dishID) {\r\n        const curTable = this.findTable(tableNum);\r\n        if (!curTable.currentOrder) return;\r\n        if (!curTable.currentOrder[dishID]) return;\r\n        delete curTable.currentOrder[dishID];\r\n\r\n    }\r\n    findDish(dishId) {\r\n        this.menu.find(dish => dish.id === dishId);\r\n    }\r\n    prepeareDish(tableNum) {\r\n        const currTable = this.findTable(tableNum);\r\n        if (!currTable.currentOrder) return;\r\n        const menuMap = this.setmenuMap();\r\n        const res = Object.entries(currTable.currentOrder);\r\n        const newRes = res.map(([dishId, quantity]) => `${menuMap[dishId].name} - ${quantity}`);\r\n        currTable.prepearing = newRes;\r\n    }\r\n    setmenuMap() {\r\n        const menuMap = menu.reduce((acc, el) => { acc[el.id] = el; return acc; }, {});\r\n        return menuMap;\r\n    }\r\n    dishFinish(tableNum, dishName, quantity) {\r\n  const currTable = this.findTable(tableNum);\r\n        currTable.prepearing = currTable.prepearing.map( el => {\r\n            const [name, quant] = el.split(\" - \")\r\n            if (name === dishName) {\r\n                const newQuantity = Number(quant) - quantity;\r\n                return name + \" - \" + newQuantity;\r\n             }\r\n            return el;\r\n        }).filter(el => Number(el.split(\" - \")[1]) > 0)\r\n    }\r\n    removeDishFinish(tableNum, dishName, quantity) {\r\n    const curTable = this.findTable(tableNum);\r\n    console.log(curTable);\r\n    curTable.prepearing = curTable.prepearing\r\n      .map((el) => {\r\n        const [name, quant] = el.split(' - ');\r\n        if (name === dishName) {\r\n          const newQuantity = Number(quant) - quantity;\r\n          return name + ' - ' + newQuantity;\r\n        }\r\n        return el;\r\n      })\r\n      .filter((el) => Number(el.split(' - ')[1]) > 0);\r\n    }\r\n   \r\n}\r\n\r\nconst cafe = new Cafe({ menu, tables, workers });\r\nexport default cafe;","import cafe from \"./classCafe.js\";\r\nimport listTmp from \"../templates/order-list.hbs\";\r\n\r\nexport const handleCloseList = parentNode => {\r\n    const removedChild = parentNode.querySelector(`[id]`);\r\n    if (removedChild) {\r\n        parentNode.removeChild(removedChild);\r\n    }\r\n};\r\n\r\nconst handleSetDishToOrder = e => {\r\n    if (e.target.nodeName !== \"BUTTON\" || e.target.dataset.action === \"close\") return;\r\n\r\n    const section = e.target.closest('section');\r\n    const tableNum = +section.id.split(\"-\")[2];\r\n    const item = e.target.closest(\"li\");\r\n    const dishId = item.id;\r\n    const spanQuantity = item.querySelector(\".quantity\");\r\n    const { action } = e.target.dataset;\r\n    let quantity = Number(spanQuantity.textContent);\r\n    switch (action) {\r\n        case \"add\":\r\n            cafe.addDish(tableNum, dishId);\r\n            quantity += 1;\r\n            break;\r\n        case \"remove\":\r\n            cafe.removeDish(tableNum, dishId);\r\n            if (quantity > 0) {\r\n                quantity -= 1;\r\n            }\r\n            break;\r\n        case \"reset\":\r\n            cafe.resetDish(tableNum, dishId);\r\n            quantity = 0\r\n            break;\r\n    }\r\n    spanQuantity.textContent = quantity;\r\n};\r\nconst createOrderList = (tableNum, parentNode) => {\r\n    const orderTemplateMarkup = listTmp({ tableNum, orderList: cafe.menu });\r\n    parentNode.insertAdjacentHTML(\"beforeend\", orderTemplateMarkup);\r\n\r\n    const orderListContainer = document.getElementById(`order-list-${tableNum}`);\r\n    console.log(orderListContainer)\r\n\r\n    const btnClose = parentNode.querySelector('[data-action=\"close\"]');\r\n   \r\n    btnClose.addEventListener(\"click\", e => {\r\n        handleCloseList(parentNode);\r\n    });\r\n    orderListContainer.addEventListener(\"click\", handleSetDishToOrder);\r\n};\r\n\r\nexport default createOrderList;","import cafe from \"./classCafe.js\"\r\nimport createOrderList from './orderList.js';\r\nimport tablesTmp from \"./../templates/table-tmp.hbs\"\r\nimport { handleCloseList }  from \"./orderList.js\";\r\n\r\nconst refs = {\r\n    body: document.body,\r\n    servicePanel: document.createElement('section'),\r\n    tableList: document.createElement('ul'),\r\n};\r\nrefs.servicePanel.insertAdjacentElement(\"afterbegin\", refs.tableList);\r\nrefs.body.insertAdjacentElement(\"afterbegin\", refs.servicePanel);\r\ncafe.checkTables();\r\nconst tables = cafe.presentWorkers[0].tables;\r\n\r\nconst getTableMarckup = tablesTmp({ tables: tables })\r\n\r\nconst handleOpenOrder = (e) => {\r\n    if (e.target.nodeName !== 'BUTTON') return;\r\n  const item = e.target.closest('li');\r\n  const tableNum = item.dataset.id;\r\n\r\n  handleCloseList(refs.servicePanel);\r\n\r\n  createOrderList(tableNum, refs.servicePanel);\r\n};\r\nrefs.tableList.insertAdjacentHTML(\"afterbegin\", getTableMarckup);\r\n\r\nrefs.tableList.addEventListener(\"click\", handleOpenOrder);","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"        <li id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\">\\r\\n            <span>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</span>\\r\\n            <button type=\\\"button\\\" data-action=\\\"add\\\">+</button>\\r\\n            <span class='quantity'>0</span>\\r\\n            <button type=\\\"button\\\" data-action=\\\"remove\\\">-</button>\\r\\n            <button type=\\\"button\\\" data-action=\\\"reset\\\">reset</button>\\r\\n        </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<section id=\\\"order-list-\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tableNum\") || (depth0 != null ? lookupProperty(depth0,\"tableNum\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tableNum\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":24},\"end\":{\"line\":1,\"column\":36}}}) : helper)))\n    + \"\\\">\\r\\n    <h3>Table \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tableNum\") || (depth0 != null ? lookupProperty(depth0,\"tableNum\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tableNum\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":14},\"end\":{\"line\":2,\"column\":26}}}) : helper)))\n    + \"</h3>\\r\\n    <ul>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"orderList\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":8},\"end\":{\"line\":12,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n    <button type=\\\"button\\\" data-action=\\\"close\\\">Close order</button>\\r\\n</section>\";\n},\"useData\":true});"],"sourceRoot":""}